import{_ as t,c as r,a,b as i,o as l,r as o}from"./app.c038553f.js";const f=JSON.parse('{"title":"prettier 格式化","description":"","frontmatter":{},"headers":[{"level":2,"title":"旧版本(0.0.14 之前)formatAndSave 命令迁移","slug":"旧版本-0-0-14-之前-formatandsave-命令迁移","link":"#旧版本-0-0-14-之前-formatandsave-命令迁移","children":[]},{"level":2,"title":"用法","slug":"用法","link":"#用法","children":[]},{"level":2,"title":"与官方 prettier 插件的区别：","slug":"与官方-prettier-插件的区别","link":"#与官方-prettier-插件的区别","children":[]},{"level":2,"title":"为什么不使用onWillSaveTextDocument","slug":"为什么不使用onwillsavetextdocument","link":"#为什么不使用onwillsavetextdocument","children":[]}],"relativePath":"guide/prettier.md","lastUpdated":1677467567000}'),d={name:"guide/prettier.md"},n=i('<h1 id="prettier-格式化" tabindex="-1">prettier 格式化 <a class="header-anchor" href="#prettier-格式化" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>基于 prettier 最新版本@2.8.4，支持 prettier 最新配置</p></div><h2 id="旧版本-0-0-14-之前-formatandsave-命令迁移" tabindex="-1">旧版本(0.0.14 之前)formatAndSave 命令迁移 <a class="header-anchor" href="#旧版本-0-0-14-之前-formatandsave-命令迁移" aria-hidden="true">#</a></h2><p>如果使用的是旧版本的 formatAndSave 命令，工具&gt;自定义快捷键&gt;删除 formatAndSave 命令 ctrl+s 配置，按下 ctrl+s 设置以后只选一个为 prettier 格式化代码</p><h2 id="用法" tabindex="-1">用法 <a class="header-anchor" href="#用法" aria-hidden="true">#</a></h2><ol><li>避免与官方格式化冲突：工具&gt;设置&gt;编辑器设置&gt;取消勾选保存时自动格式化</li><li>插件提供一个<code>ctrl+s</code>命令，名为<code>prettier格式化代码</code>，与 HBuilderX 默认保存命令重复，此时按下<code>ctrl+s</code>会出现选择菜单，设置<code>以后只选一个</code>为<code>prettier格式化代码</code>即可</li><li>在任意文件中<code>ctrl+s</code>，插件会获取该文件所在项目目录，判断项目根目录下是否存在 prettier 配置文件，如果不存在，则会创建默认 prettier 配置文件（js 配置文件）</li><li>如果不想使用插件创建的配置文件，比如之前已有统一团队风格的 prettier 配置文件，可以复制该文件到项目根目录下，插件则不会新建，而是直接使用该配置文件（配置文件无固定后缀名要求，属于 prettier 配置文件即可）</li></ol><h2 id="与官方-prettier-插件的区别" tabindex="-1">与官方 prettier 插件的区别： <a class="header-anchor" href="#与官方-prettier-插件的区别" aria-hidden="true">#</a></h2><p>官方的 prettier 不支持使用根目录 prettier 配置文件，不方便团队统一风格</p><h2 id="为什么不使用onwillsavetextdocument" tabindex="-1">为什么不使用<a href="https://hx.dcloud.net.cn/ExtensionDocs/Api/workspace/onWillSaveTextDocument?id=onwillsavetextdocument" target="_blank" rel="noreferrer">onWillSaveTextDocument</a> <a class="header-anchor" href="#为什么不使用onwillsavetextdocument" aria-hidden="true">#</a></h2><p>HBuilderX 插件开发提供了保存事件<code>onWillSaveTextDocument</code>，为什么不使用该事件触发格式化，而是创建一个<code>ctrl+s</code>命令来替换 HBuilderX 默认保存命令？</p><p>因为该事件只有编辑后保存才会触发，文件未发生更改情况下不会触发</p>',11);function c(s,p,h,u,m,_){const e=o("git-talk");return l(),r("div",null,[n,a(e)])}const x=t(d,[["render",c]]);export{f as __pageData,x as default};
